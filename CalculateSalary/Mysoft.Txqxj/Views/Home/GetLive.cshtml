@model Mysoft.Tjqxj.Models.ViewModel.GetLiveVm
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>实况资料</title>
    <link href="http://res.wx.qq.com/open/libs/weui/1.1.2/weui.min.css" rel="stylesheet">

    <link href="/tjqxj/css/getlive/getlive.css" rel="stylesheet" />
</head>
<body>
    <div id="chooseDiv">
        <div class="weui-flex">
            <div class="weui-navbar">
                <div class="weui-navbar__item">
                    @Model.FirstMemu
                    <p>
                        <a href="javascript:;" class="weui-btn weui-btn_mini weui-btn_default" onclick="FirstMemuClick()">切换</a>
                    </p>
                </div>
                <div class="weui-navbar__item">
                    @Model.SecondMemu
                    <p>
                        <a href="javascript:;" class="weui-btn weui-btn_mini weui-btn_default" onclick="SecondMemuClick()">切换</a>
                    </p>
                </div>
                <div class="weui-navbar__item">
                    @Model.ThirdMemu
                    <p>
                        <a href="javascript:;" class="weui-btn weui-btn_mini weui-btn_default" onclick="ThirdMemuClick()">切换</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="imgDiv">
        <div class="weui-flex" style="display: block">
            <div class="weui-flex__item">
                <div class="placeholder">
                    <img id="img" src="@Model.ImageList[0]["fileURL"]" style="width: 100%">
                </div>
            </div>
        </div>
        <div class="weui-flex" style="text-align: center">
            <div class="weui-grids">
                @for (var i = 0; i < Model.ImageList.Count; i++)
                {
                    <a href="javascript:;" class="weui-grid" imgSrc="@Model.ImageList[i]["fileURL"]" onclick="ChangeImg(this)" style="@(i==0?"background:#C8C8CD":"") ">
                        <p class="weui-grid__label">@Model.GetDateInfo(Model.ImageList[i]["v_SHIJIAN"])</p>
                        <p class="weui-grid__label">@Model.GetTimeInfo(Model.ImageList[i]["v_SHIJIAN"])</p>
                    </a>
                }
                
            </div>
        </div>
    </div>

    @*<div class=""> <div class="weui-mask weui-animate-fade-in"></div> <div class="weui-picker weui-animate-slide-up"> <div class="weui-picker__hd"> <a href="javascript:;" data-action="cancel" class="weui-picker__action">取消</a> <a href="javascript:;" data-action="select" class="weui-picker__action" id="weui-picker-confirm">确定</a> </div> <div class="weui-picker__bd"><div class="weui-picker__group"> <div class="weui-picker__mask"></div> <div class="weui-picker__indicator"></div> <div class="weui-picker__content" style="transform: translate3d(0px, -374px, 0px);"><div class="weui-picker__item">1990年</div><div class="weui-picker__item">1991年</div><div class="weui-picker__item">1992年</div><div class="weui-picker__item">1993年</div><div class="weui-picker__item">1994年</div><div class="weui-picker__item">1995年</div><div class="weui-picker__item">1996年</div><div class="weui-picker__item">1997年</div><div class="weui-picker__item">1998年</div><div class="weui-picker__item">1999年</div><div class="weui-picker__item">2000年</div><div class="weui-picker__item">2001年</div><div class="weui-picker__item">2002年</div><div class="weui-picker__item">2003年</div><div class="weui-picker__item">2004年</div><div class="weui-picker__item">2005年</div><div class="weui-picker__item">2006年</div><div class="weui-picker__item">2007年</div><div class="weui-picker__item">2008年</div><div class="weui-picker__item">2009年</div><div class="weui-picker__item">2010年</div><div class="weui-picker__item">2011年</div><div class="weui-picker__item">2012年</div><div class="weui-picker__item">2013年</div><div class="weui-picker__item">2014年</div><div class="weui-picker__item">2015年</div><div class="weui-picker__item">2016年</div><div class="weui-picker__item">2017年</div><div class="weui-picker__item">2018年</div></div> </div><div class="weui-picker__group" style="display: block;"> <div class="weui-picker__mask"></div> <div class="weui-picker__indicator"></div> <div class="weui-picker__content" style="transform: translate3d(0px, -102px, 0px);"><div class="weui-picker__item">1月</div><div class="weui-picker__item">2月</div><div class="weui-picker__item">3月</div><div class="weui-picker__item">4月</div><div class="weui-picker__item">5月</div><div class="weui-picker__item">6月</div><div class="weui-picker__item">7月</div><div class="weui-picker__item">8月</div><div class="weui-picker__item">9月</div><div class="weui-picker__item">10月</div><div class="weui-picker__item">11月</div><div class="weui-picker__item">12月</div></div> </div><div class="weui-picker__group" style="display: block;"> <div class="weui-picker__mask"></div> <div class="weui-picker__indicator"></div> <div class="weui-picker__content" style="transform: translate3d(0px, -408px, 0px);"><div class="weui-picker__item">1日</div><div class="weui-picker__item">2日</div><div class="weui-picker__item">3日</div><div class="weui-picker__item">4日</div><div class="weui-picker__item">5日</div><div class="weui-picker__item">6日</div><div class="weui-picker__item">7日</div><div class="weui-picker__item">8日</div><div class="weui-picker__item">9日</div><div class="weui-picker__item">10日</div><div class="weui-picker__item">11日</div><div class="weui-picker__item">12日</div><div class="weui-picker__item">13日</div><div class="weui-picker__item">14日</div><div class="weui-picker__item">15日</div><div class="weui-picker__item">16日</div><div class="weui-picker__item">17日</div><div class="weui-picker__item">18日</div><div class="weui-picker__item">19日</div><div class="weui-picker__item">20日</div><div class="weui-picker__item">21日</div><div class="weui-picker__item">22日</div><div class="weui-picker__item">23日</div><div class="weui-picker__item">24日</div><div class="weui-picker__item">25日</div><div class="weui-picker__item">26日</div><div class="weui-picker__item">27日</div><div class="weui-picker__item">28日</div><div class="weui-picker__item">29日</div><div class="weui-picker__item">30日</div><div class="weui-picker__item">31日</div></div> </div></div> </div> </div>*@

</body>
</html>
<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script src="https://res.wx.qq.com/open/libs/weuijs/1.1.3/weui.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<script src="~/tjqxj/js/getlive.js"></script>
<script>
    var first ='@Html.Raw(Model.FirstMemu)';
    var second = '@Html.Raw(Model.SecondMemu)';
    var third = '@Html.Raw(Model.ThirdMemu)';

    function FirstMemuClick() {
        weui.picker([
            @for (var i = 0; i < Model.GetFirstMemus().Count; i++)
            {
                var temp = Model.GetFirstMemus()[i];
                <text>{
                label: '@Html.Raw(temp)',
                value:@((temp==Model.FirstMemu)?-1:i)},</text>
            }
        ], {
            className: 'custom-classname',
            container: 'body',
            defaultValue: [-1],
            onChange: function (result) {
                console.log(result);
            },
                onConfirm: function (result) {
                    window.location.href = '/tjqxj/home/getlive?first=' + result[0].label;
            },
            id: 'singleLinePicker'
        });
    }

    function SecondMemuClick() {
        weui.picker([
            @for (var i = 0; i < Model.GetSecondMemus().Count; i++)
            {
                var temp = Model.GetSecondMemus()[i];
                <text>{
                label: '@Html.Raw(temp)',
                value:@((temp==Model.SecondMemu)?-1:i)},</text>
            }
        ], {
            className: 'custom-classname',
            container: 'body',
            defaultValue: [-1],
            onChange: function (result) {
                console.log(result);
            },
            onConfirm: function (result) {
                window.location.href = '/tjqxj/home/getlive?first=' + first+"&second="+ result[0].label;
            },
            id: 'singleLinePicker'
        });
    }



    function ThirdMemuClick() {
        weui.picker([
            @for (var i = 0; i < Model.GetThirdMemus().Count; i++)
            {
                var temp = Model.GetThirdMemus()[i];
                <text>{
                label: '@Html.Raw(temp)',
                value:@((temp==Model.ThirdMemu)?-1:i)},</text>
            }
        ], {
            className: 'custom-classname',
            container: 'body',
            defaultValue: [-1],
            onChange: function (result) {
                console.log(result);
            },
            onConfirm: function (result) {
                window.location.href = '/tjqxj/home/getlive?first=' + first+"&second="+second+"&third="+ result[0].label;
            },
            id: 'singleLinePicker'
        });
    }

    function ChangeImg(ob) {
        var $ob = $(ob);
        $("#img").attr('src', $ob.attr("imgSrc"));
        $(".weui-grid").css("background", "");
        $ob.css("background", "#C8C8CD");
    }


</script>
